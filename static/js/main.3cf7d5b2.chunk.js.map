{"version":3,"sources":["SearchItem.js","App.js","reportWebVitals.js","index.js"],"names":["SearchItem","useState","item","setItem","itemSearched","setItemSearched","itemResults","setItemResults","pagination","setPagination","searchPage","setSearchPage","paginationStorage","JSON","parse","sessionStorage","getItem","itemsStored","savedItem","itemLookUp","e","a","preventDefault","url","fetch","result","json","data","results","alert","useEffect","splice","stringify","paginationArray","maxPage","totalPages","maxRight","currentPage","minPage","i","push","unshift","target","value","previousPage","nextPage","console","log","className","name","onSubmit","type","placeholder","required","onChange","perPage","map","arr","onClick","src","imageUrl","alt","msrp","price","uid","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3cf7d5b2.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\n\nfunction SearchItem () {\n    const [item, setItem] = useState(\"\")\n    const [itemSearched, setItemSearched] = useState(\"\")\n    const [itemResults, setItemResults] = useState(\"\")\n    const [pagination, setPagination] = useState(\"\")\n    const [searchPage, setSearchPage] = useState(\"\")\n\n    const paginationStorage = JSON.parse(sessionStorage.getItem(\"paginationKey\"))\n    const itemsStored = JSON.parse(sessionStorage.getItem(\"itemsKey\")) || []\n    const savedItem = JSON.parse(sessionStorage.getItem(\"searchKey\"))\n   \n  \n    // Form submission will call this asyn function to fetch SearchSpring API data and set it to ItemResults and Pagination \n    const itemLookUp = async (e) => {\n        e.preventDefault()\n\n        const url = `https://scmq7n.a.searchspring.io/api/search/search.json?siteId=scmq7n&q=${item}&resultsFormat=native&page=${searchPage || 1} `\n\n        try {\n            const result = await fetch (url)\n            const data = await result.json()\n            setItemResults(data.results)\n            setPagination(data.pagination) \n        }catch(err) {\n            alert(\"Item not found\")\n        }\n        \n        setItemSearched(item !== \"\" ? item : savedItem)\n        \n        \n    }\n\n \n    // Updated items stored in session storage\n    useEffect(() => {\n       if (itemResults) {\n        itemsStored.splice(0, 1, itemResults)\n       }\n        sessionStorage.setItem(\"itemsKey\", JSON.stringify(itemsStored)) \n    },[itemResults, itemsStored, item])\n\n    useEffect(() => {\n        setSearchPage(1)\n    }, [item])\n\n\n    // Save pagination and searched item in session storage\n    if(itemResults) {\n        sessionStorage.setItem(\"paginationKey\", JSON.stringify(pagination))\n        sessionStorage.setItem(\"searchKey\", JSON.stringify(itemSearched))\n    }\n\n\n    //Pagination of page will be determind based on what is inside the array below, along with min and max page numbers to be displayed \n    let paginationArray = []\n   \n\n    if(paginationStorage) {\n        let maxPage = paginationStorage.totalPages\n        let maxRight = paginationStorage.currentPage + 2 \n        let minPage = paginationStorage.currentPage - 2 \n    \n        if (minPage < 1) {\n            minPage = 1\n            maxPage = paginationStorage.totalPages\n        }\n    \n        if (paginationStorage.currentPage === paginationStorage.totalPages) {\n            minPage = paginationStorage.totalPages - 4\n\n            if (minPage < 1) {\n                minPage = 1\n            }\n            maxPage = paginationStorage.totalPages\n        }\n\n\n         // Based on what is in the session storage, push all of the page numbers to the paginationArray\n\n        for(let i = minPage; i <= maxRight; i++) {\n            if (maxRight >= maxPage) {\n                maxRight = paginationStorage.totalPages\n            }\n            paginationArray.push(i)\n        }\n\n        if(paginationStorage.currentPage !== 1) {\n            paginationArray.unshift(\"<\")  \n        }\n\n        if (paginationStorage.currentPage !== paginationStorage.totalPages) {\n            paginationArray.push(\">\")  \n        }\n        \n    }\n\n   \n\n\n   \n\n    //Function to grab value of button clicked and set it to the page number that is to be searched and displayed \n    function target (e) {\n        if(e.target.value === \"<\") {\n            if(paginationStorage.currentPage === 1) {\n                setSearchPage(1)\n            }else {\n                setSearchPage(paginationStorage.previousPage)\n            }           \n        } else if (e.target.value === \">\") {\n            if(paginationStorage.currentPage === paginationStorage.totalPages) {\n                setSearchPage(paginationStorage.totalPages)\n            }else{\n                setSearchPage(paginationStorage.nextPage)\n            }\n        }else if(e.target.value !== \"<\" || e.target.value !== \">\") {\n            setSearchPage(e.target.value)\n        }\n        setItem(item !== \"\" ? item : savedItem)\n    }\n\n    console.log(paginationArray)\n\n    //****PAGE DISPLAY*****//\n\n    if(itemsStored[0]) {\n        return (\n        <div className=\"container\"> \n           <div className=\"form-container\" >\n               <h6 className=\"logo\">SearchSpring</h6>\n               <form name=\"myForm\" className=\"search-form\" onSubmit={itemLookUp}>\n                   <input \n                        type=\"text\" \n                        name=\"item\"\n                        placeholder=\"Search here...\"\n                        className=\"searchInput\"\n                        required \n                        value={item}\n                        onChange= {(e) => setItem(e.target.value)}\n                    /> \n\n                    <button className=\"searchBtn\" type=\"submit\">Search</button>\n               </form>               \n            </div>    \n\n           <div className=\"paginationContainer\"> <h6 className=\"resultAmt\">Showing {paginationStorage.perPage} results</h6> \n                    <form onSubmit={itemLookUp} >\n                        {paginationArray.map(arr => (\n                            <>\n                                Heloo\n                                <button\n                                    key={arr.value}\n                                    type=\"submit\"\n                                    name=\"subBtn\"\n                                    className=\"btn\"\n                                    value={arr}\n                                    onClick={target} \n                                >\n                                    {arr}\n                                </button>\n                                \n                            </>\n                        ))}\n\n                    </form>\n           </div>\n\n    \n           <div className=\"resultDisplay\">\n                    {itemsStored[0].map(item => (\n                        <div className=\"itemCard\">\n                            <div className=\"itemInfo\" key={item.uid}>\n                                <img className=\"itemImg\" src={item.imageUrl} alt=\"Item\"/>\n                                <p className=\"itemName\">{item.name}</p>\n                                {/* <p className=\"itemMsrp\">${item.msrp > }</p> */}\n                                {item.msrp > item.price ? <p className=\"itemMsrp\">${item.msrp}.00</p> : null}\n                                <p className=\"itemPrice\">${item.price % 1 !== 0 ? `${item.price}0`: `${item.price}.00`}</p>\n                            </div>\n                        </div>\n                     \n                    ))}\n\n               </div>\n\n               <div className=\"paginationContainer\"> \n                    <form onSubmit={itemLookUp} className=\" bottomPagination\">\n                        {paginationArray.map(arr => (\n                            <>\n                                <button\n                                    key={arr.value}\n                                    type=\"submit\"\n                                    name=\"subBtn\"\n                                    className=\"btn\"\n                                    value={arr}\n                                    onClick={target} \n                                >\n                                    {arr}\n                                </button>\n                                \n                            </>\n                        ))}\n\n                    </form>\n           </div>    \n        </div>\n    )\n    }else {\n        return (\n        <div className=\"container\"> \n           <div className=\"form-container\" >\n               <h6 className=\"logo\">SearchSpring</h6>\n               <form name=\"myForm\" className=\"search-form\" onSubmit={itemLookUp}>\n                   <input \n                        type=\"text\" \n                        name=\"item\"\n                        placeholder=\"Search here...\"\n                        className=\"searchInput\"\n                        required \n                        value={item}\n                        onChange= {(e) => setItem(e.target.value)}\n                    /> \n\n                    <button className=\"searchBtn\" type=\"submit\">Search</button>\n               </form>             \n            </div>\n\n            <div className=\"initialMessage\"><p>Let's go shopping!!</p>\n            </div> \n        </div>    \n        )\n    }\n}\n\n\n\n    \n\nexport default SearchItem\n","import React from \"react\";\nimport SearchItem from \"./SearchItem\";\nimport \"./App.css\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SearchItem/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}