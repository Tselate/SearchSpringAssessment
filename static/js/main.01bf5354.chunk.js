(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(5),r=a.n(c),i=(a(11),a(4)),o=a.n(i),l=a(6),u=a(2),m=a(0);var j=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),r=Object(u.a)(c,2),i=r[0],j=r[1],b=Object(s.useState)(""),h=Object(u.a)(b,2),g=h[0],p=h[1],O=Object(s.useState)(""),d=Object(u.a)(O,2),f=d[0],x=d[1],v=Object(s.useState)(""),N=Object(u.a)(v,2),S=N[0],P=N[1],y=Object(s.useState)([]),I=Object(u.a)(y,2),C=I[0],F=I[1],J=JSON.parse(sessionStorage.getItem("paginationKey")),k=JSON.parse(sessionStorage.getItem("itemsKey"))||[],B=JSON.parse(sessionStorage.getItem("searchKey")),K=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s="https://scmq7n.a.searchspring.io/api/search/search.json?siteId=scmq7n&q=".concat(a,"&resultsFormat=native&page=").concat(S||1," "),e.prev=2,e.next=5,fetch(s);case 5:return n=e.sent,e.next=8,n.json();case 8:c=e.sent,p(c.results),x(c.pagination),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),alert("Item not found");case 16:j(""!==a?a:B);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){g&&k.splice(0,1,g),sessionStorage.setItem("itemsKey",JSON.stringify(k))}),[g,k,a]),Object(s.useEffect)((function(){P(1)}),[a]),Object(s.useEffect)((function(){F(q)}),[k[0][1].brand]),g&&(sessionStorage.setItem("paginationKey",JSON.stringify(f)),sessionStorage.setItem("searchKey",JSON.stringify(i)));var q=[];if(J){var w=J.totalPages,E=J.currentPage+2,D=J.currentPage-2;D<1&&(D=1,w=J.totalPages),J.currentPage===J.totalPages&&((D=J.totalPages-4)<1&&(D=1),w=J.totalPages);for(var L=D;L<=E;L++)E>=w&&(E=J.totalPages),q.push(L);1!==J.currentPage&&q.unshift("<"),J.currentPage!==J.totalPages&&q.push(">")}function M(e){"<"===e.target.value?1===J.currentPage?P(1):P(J.previousPage):">"===e.target.value?J.currentPage===J.totalPages?P(J.totalPages):P(J.nextPage):"<"===e.target.value&&">"===e.target.value||P(e.target.value),n(""!==a?a:B)}return k[0]?Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsx)("h6",{className:"logo",children:"SearchSpring"}),Object(m.jsxs)("form",{name:"myForm",className:"search-form",onSubmit:K,children:[Object(m.jsx)("input",{type:"text",name:"item",placeholder:"Search here...",className:"searchInput",required:!0,value:a,onChange:function(e){return n(e.target.value)}}),Object(m.jsx)("button",{className:"searchBtn",type:"submit",children:"Search"})]})]}),Object(m.jsxs)("div",{className:"paginationContainer",children:[" ",Object(m.jsxs)("h6",{className:"resultAmt",children:["Showing ",J.perPage," results"]}),Object(m.jsx)("form",{onSubmit:K,children:C.map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{type:"submit",name:"subBtn",className:"btn",value:e,onClick:M,children:e},e.value)})}))})]}),Object(m.jsx)("div",{className:"resultDisplay",children:k[0].map((function(e){return Object(m.jsx)("div",{className:"itemCard",children:Object(m.jsxs)("div",{className:"itemInfo",children:[Object(m.jsx)("img",{className:"itemImg",src:e.imageUrl,alt:"Item"}),Object(m.jsx)("p",{className:"itemName",children:e.name}),e.msrp>e.price?Object(m.jsxs)("p",{className:"itemMsrp",children:["$",e.msrp,".00"]}):null,Object(m.jsxs)("p",{className:"itemPrice",children:["$",e.price%1!==0?"".concat(e.price,"0"):"".concat(e.price,".00")]})]},e.uid)})}))}),Object(m.jsx)("div",{className:"paginationContainer",children:Object(m.jsx)("form",{onSubmit:K,className:" bottomPagination",children:C.map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{type:"submit",name:"subBtn",className:"btn",value:e,onClick:M,children:e},e.value)})}))})})]}):Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsx)("h6",{className:"logo",children:"SearchSpring"}),Object(m.jsxs)("form",{name:"myForm",className:"search-form",onSubmit:K,children:[Object(m.jsx)("input",{type:"text",name:"item",placeholder:"Search here...",className:"searchInput",required:!0,value:a,onChange:function(e){return n(e.target.value)}}),Object(m.jsx)("button",{className:"searchBtn",type:"submit",children:"Search"})]})]}),Object(m.jsx)("div",{className:"initialMessage",children:Object(m.jsx)("p",{children:"Let's go shopping!!"})})]})};a(14);var b=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(j,{})})},h=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(b,{})}),document.getElementById("root")),h()}},[[15,1,2]]]);
//# sourceMappingURL=main.01bf5354.chunk.js.map