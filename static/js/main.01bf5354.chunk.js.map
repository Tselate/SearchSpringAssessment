{"version":3,"sources":["SearchItem.js","App.js","reportWebVitals.js","index.js"],"names":["SearchItem","useState","item","setItem","itemSearched","setItemSearched","itemResults","setItemResults","pagination","setPagination","searchPage","setSearchPage","paginationDsiplay","setPaginationDisplay","paginationStorage","JSON","parse","sessionStorage","getItem","itemsStored","savedItem","itemLookUp","e","a","preventDefault","url","fetch","result","json","data","results","alert","useEffect","splice","stringify","paginationArray","brand","maxPage","totalPages","maxRight","currentPage","minPage","i","push","unshift","target","value","previousPage","nextPage","className","name","onSubmit","type","placeholder","required","onChange","perPage","map","arr","onClick","src","imageUrl","alt","msrp","price","uid","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01bf5354.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\n\nfunction SearchItem () {\n    const [item, setItem] = useState(\"\")\n    const [itemSearched, setItemSearched] = useState(\"\")\n    const [itemResults, setItemResults] = useState(\"\")\n    const [pagination, setPagination] = useState(\"\")\n    const [searchPage, setSearchPage] = useState(\"\")\n    const [paginationDsiplay, setPaginationDisplay] = useState([])\n\n    const paginationStorage = JSON.parse(sessionStorage.getItem(\"paginationKey\"))\n    const itemsStored = JSON.parse(sessionStorage.getItem(\"itemsKey\")) || []\n    const savedItem = JSON.parse(sessionStorage.getItem(\"searchKey\"))\n   \n  \n    // Form submission will call this asyn function to fetch SearchSpring API data and set it to ItemResults and Pagination \n    const itemLookUp = async (e) => {\n        e.preventDefault()\n\n        const url = `https://scmq7n.a.searchspring.io/api/search/search.json?siteId=scmq7n&q=${item}&resultsFormat=native&page=${searchPage || 1} `\n\n        try {\n            const result = await fetch (url)\n            const data = await result.json()\n            setItemResults(data.results)\n            setPagination(data.pagination) \n        }catch(err) {\n            alert(\"Item not found\")\n        }\n        setItemSearched(item !== \"\" ? item : savedItem)\n    }\n\n\n    // Updated items stored in session storage\n    useEffect(() => {\n       if (itemResults) {\n        itemsStored.splice(0, 1, itemResults)\n       }\n        sessionStorage.setItem(\"itemsKey\", JSON.stringify(itemsStored))\n    },[itemResults, itemsStored, item])\n\n    \n    useEffect(() => {\n        setSearchPage(1)\n    }, [item])\n\n    \n    //Pagination diplay \n    useEffect(() => {\n        setPaginationDisplay(paginationArray)\n    }, [itemsStored[0][1].brand])\n\n\n\n    // Save pagination and searched item in session storage\n    if(itemResults) {\n        sessionStorage.setItem(\"paginationKey\", JSON.stringify(pagination))\n        sessionStorage.setItem(\"searchKey\", JSON.stringify(itemSearched))\n    }\n\n\n    //Pagination of page will be determind based on what is inside the array below, along with min and max page numbers to be displayed \n    let paginationArray = []\n   \n\n    if(paginationStorage) {\n        let maxPage = paginationStorage.totalPages\n        let maxRight = paginationStorage.currentPage + 2 \n        let minPage = paginationStorage.currentPage - 2 \n    \n        if (minPage < 1) {\n            minPage = 1\n            maxPage = paginationStorage.totalPages\n        }\n    \n        if (paginationStorage.currentPage === paginationStorage.totalPages) {\n            minPage = paginationStorage.totalPages - 4\n\n            if (minPage < 1) {\n                minPage = 1\n            }\n            maxPage = paginationStorage.totalPages\n        }\n\n\n         // Based on what is in the session storage, push all of the page numbers to the paginationArray\n\n        for(let i = minPage; i <= maxRight; i++) {\n            if (maxRight >= maxPage) {\n                maxRight = paginationStorage.totalPages\n            }\n            paginationArray.push(i)\n        }\n\n        if(paginationStorage.currentPage !== 1) {\n            paginationArray.unshift(\"<\")  \n        }\n\n        if (paginationStorage.currentPage !== paginationStorage.totalPages) {\n            paginationArray.push(\">\")  \n        }        \n    }\n\n   \n\n    //Function to grab value of button clicked and set it to the page number that is to be searched and displayed \n    function target (e) {\n        if(e.target.value === \"<\") {\n            if(paginationStorage.currentPage === 1) {\n                setSearchPage(1)\n            }else {\n                setSearchPage(paginationStorage.previousPage)\n            }           \n        } else if (e.target.value === \">\") {\n            if(paginationStorage.currentPage === paginationStorage.totalPages) {\n                setSearchPage(paginationStorage.totalPages)\n            }else{\n                setSearchPage(paginationStorage.nextPage)\n            }\n        }else if(e.target.value !== \"<\" || e.target.value !== \">\") {\n            setSearchPage(e.target.value)\n        }\n        setItem(item !== \"\" ? item : savedItem)\n    }\n\n    \n\n\n\n\n\n    //****PAGE DISPLAY*****//\n\n    if(itemsStored[0]) {\n        return (\n        <div className=\"container\"> \n           <div className=\"form-container\" >\n               <h6 className=\"logo\">SearchSpring</h6>\n               <form name=\"myForm\" className=\"search-form\" onSubmit={itemLookUp}>\n                   <input \n                        type=\"text\" \n                        name=\"item\"\n                        placeholder=\"Search here...\"\n                        className=\"searchInput\"\n                        required \n                        value={item}\n                        onChange= {(e) => setItem(e.target.value)}\n                    /> \n\n                    <button className=\"searchBtn\" type=\"submit\">Search</button>\n               </form>               \n            </div>    \n\n           <div className=\"paginationContainer\"> <h6 className=\"resultAmt\">Showing {paginationStorage.perPage} results</h6> \n                    <form onSubmit={itemLookUp} >\n                        {paginationDsiplay.map(arr => (\n                            <>\n                                <button\n                                    key={arr.value}\n                                    type=\"submit\"\n                                    name=\"subBtn\"\n                                    className=\"btn\"\n                                    value={arr}\n                                    onClick={target} \n                                >\n                                    {arr}\n                                </button>\n                                \n                            </>\n                        ))}\n\n                    </form>\n           </div>\n\n    \n           <div className=\"resultDisplay\">\n                    {itemsStored[0].map(item => (\n                        <div className=\"itemCard\">\n                            <div className=\"itemInfo\" key={item.uid}>\n                                <img className=\"itemImg\" src={item.imageUrl} alt=\"Item\"/>\n                                <p className=\"itemName\">{item.name}</p>\n                                {item.msrp > item.price ? <p className=\"itemMsrp\">${item.msrp}.00</p> : null}\n                                <p className=\"itemPrice\">${item.price % 1 !== 0 ? `${item.price}0`: `${item.price}.00`}</p>\n                            </div>\n                        </div>\n                     \n                    ))}\n\n               </div>\n\n               <div className=\"paginationContainer\"> \n                    <form onSubmit={itemLookUp} className=\" bottomPagination\">\n                        {paginationDsiplay.map(arr => (\n                            <>\n                                <button\n                                    key={arr.value}\n                                    type=\"submit\"\n                                    name=\"subBtn\"\n                                    className=\"btn\"\n                                    value={arr}\n                                    onClick={target} \n                                >\n                                    {arr}\n                                </button>\n                                \n                            </>\n                        ))}\n\n                    </form>\n           </div>    \n        </div>\n    )\n    }else {\n        return (\n        <div className=\"container\"> \n           <div className=\"form-container\" >\n               <h6 className=\"logo\">SearchSpring</h6>\n               <form name=\"myForm\" className=\"search-form\" onSubmit={itemLookUp}>\n                   <input \n                        type=\"text\" \n                        name=\"item\"\n                        placeholder=\"Search here...\"\n                        className=\"searchInput\"\n                        required \n                        value={item}\n                        onChange= {(e) => setItem(e.target.value)}\n                    /> \n\n                    <button className=\"searchBtn\" type=\"submit\">Search</button>\n               </form>             \n            </div>\n\n            <div className=\"initialMessage\"><p>Let's go shopping!!</p>\n            </div> \n        </div>    \n        )\n    }\n}\n\n\n\n    \n\nexport default SearchItem\n","import React from \"react\";\nimport SearchItem from \"./SearchItem\";\nimport \"./App.css\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SearchItem/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}